\documentclass[12pt, titlepage]{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[round]{natbib}

\title{SE 3XA3: Test Plan\\Staroids}

\author{Team 20, Staroids
		\\ Eoin Lynagh, lynaghe
		\\ Jason Nagy, nagyj2
		\\ Moziah San Vicente, sanvicem
}

\date{\today}

%\input{../Comments}

\begin{document}

\maketitle

\pagenumbering{roman}
\tableofcontents
\listoftables
\listoffigures

\begin{table}[bp]
\caption{\bf Revision History}
\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Oct 22 2018 & 1.0 & Added Purpose, Test Team, Scope, a couple Acronyms, abbreviations, and symbols\\
Oct 24 & 1.1 & Added Software Description, Overview of Document, Automated Testing Approach\\
Oct 24 & 1.15 & Added functional requirement tests\\
Oct 25 & 1.2 & Added non functional tests\\
Oct 25 & 1.3 & Added Testing tools\\
Oct 25 & 1.35 & Added Testing Schedule\\
\bottomrule
\end{tabularx}
\end{table}

\newpage

\pagenumbering{arabic}

\section{General Information}

\subsection{Purpose}
This document is designed to show the detailed test plan for the Staroids game. This will include a description of the testing, validation, and verification procedures that will be implemented. All the tests in this document have been created before the final implementation has been completed and any tests have actually occured, so it will be the guide followed during the testing phase of the project.

\subsection{Scope}
The scope of the test plan is to provides a basis for testing the functionality of this re-implementation of asteroids. It has the objective of proving all the functional and non functional requirements listed in the SRS document.

\subsection{Acronyms, Abbreviations, and Symbols}

\begin{table}[hbp]
\caption{\textbf{Table of Abbreviations}} \label{Table}

\begin{tabularx}{\textwidth}{p{3cm}X}
\toprule
\textbf{Abbreviation} & \textbf{Definition} \\
\midrule
POC & Proof of Concept\\
SRS & Software Requirements Specification\\
\bottomrule
\end{tabularx}

\end{table}

\begin{table}[!htbp]
\caption{\textbf{Table of Definitions}} \label{Table}

\begin{tabularx}{\textwidth}{p{3cm}X}
\toprule
\textbf{Term} & \textbf{Definition}\\
\midrule
Functional Testing & Input-Output type of testing apporach known Input, expexted Output\\
Static Testing & Just looking at code, no actual execution\\
Dynamic Testing & Testing that requries code execution\\
Structural Testing & A whitebox type of testing Approach so cases are derived from internal structure of the software\\
Automated Testing & Testing is handeled by the testing framework (JUnit) (testing done by software)\\
Manual Testing & Manual individually written test cases. (testing done by people)\\
Stress Test & Testing the limits of a system, usually refers to amounts of data the system can handle\\
\bottomrule
\end{tabularx}

\end{table}

\subsection{Overview of Document}
This Test Plan's main goal is to inform on how Staroids is tested for correctness about its various objectives and requirements. All tools are stated and their use case is explained. All planned test cases are also listed that are used to verify the correctness of Staroids with regards to its functional and non-functional requirements.

\section{Plan}

\subsection{Software Description}
Staroids is a recreation of the HTML-5 Asteroids created by Doug McInnes which itself is a recreation of the Asteroids arcade game. It allows the user to pilot a space ship through a rectangular piece of space with wrapping edges. Cohabiting with the space ship, there are several asteroids and an alien. These entities are considered hostile to the space ship and will damage it if they come into contact. The space ship and alien can defend themselves from any hostiles by firing at them with a laser bullet. This will damage anything (except the shooter) that the bullet comes into contact with. Staroids allows the user to have 3 lives and keeps a running score for the current game that is based off of how many asteroids and aliens have been destroyed.

\subsection{Test Team}
The test team for this project consists of the following members who are each responsible for writing and executing tests for modules later to be specified:\\
- Moziah San Vicente\\
- Eoin Lynagh\\
- Jason Nagy\\ %Why am I last :( //becasuse your the shortest in the group //and you have two names
% - Walace
\subsection{Automated Testing Approach}
Automated tests are to be used for all game situations where the situation result is expected to be the same for every situation. Since the result is always true, these tests can be quickly run after every Staroids edit to ensure that no game functionalities have been broken by the edits. These tests are not done automatically at game for several reasons. Firstly, if there is an assertation error, it would be meaningless to the user and there would be no action done on the user's part. Additionally there would be time added to the startup with no benefit to the user. Therefore, all major versions of Staroids will run through the test cases before they are pushed as a final Staroids build.

\subsection{Testing Tools}
The tools that will be used for testing are Mocha \& Chai and JSCover. Mocha \& Chai is the unit testing framework and assertion library that will be used to facilitate our test cases outlined in this document. This will be created once consisting of all unit tests, and then can be re-run automatically after each major revision of the software in turn automateing Staroids unit testing. JSCover is the codecoverage tool that will be used to check how much of the Staroids game code is being executed when we the test suite is being run. The only other things that may be considered as "testing tools" could be the internet browsers that we are going to test running the game on which are Safari, Edge, Firefox and Chrome.

\subsection{Testing Schedule}

See \href{https://gitlab.cas.mcmaster.ca/nagyj2/Staroids/tree/master/ProjectSchedule/StaroidsGantt.pdf}{Gantt Chart}

\section{System Test Description}

\subsection{Tests for Functional Requirements}

\subsubsection{States}

\paragraph{Pre-game State Tests}

\begin{enumerate}

\item{1. Loading into pre-game\\}
%number tests
%create tests that are meant to fail

Type: Functional dynamic manual test

Initial State: Closed

Input: Opening file

Output: In pre-game state

How test will be performed: On game start, the game should be in the pre-game state. This can be acomplished by an assertation as part of the game set-up that states that the current game state is the pre-game.

\item{2. Starting game\\}

Type: Functional dynamic manual

Initial State: Pre-game state

Input: Spacebar pressed

Output: In playing state

How test will be performed: Once the pre-game screen is loaded, the spacebar registers as pressed and Staroids should enter the playing state. Staroids is allowed to go through a few intermediate states but must end on the playing state within one second.

\item{3. Prohibit game start on pause\\}

Type: Functional dynamic automatic test

Initial State: Pre-game state

Input: Pause button and spacebar pressed

Output: Paused state

How test will be performed: In the pre-game state, the pause button is registered as pressed and then the game enters the paused state. The paused state will prohibit progression from the pre-game state to the playing state when the spacebar is pressed. Upon registering the spacebar again, the game shall return to the pre-game state.

\end{enumerate}

\paragraph{Playing State Tests}

\begin{enumerate}

\item{1. Permitting pause\\}

Type: Functional dynamic automatic test

Initial State: Playing State

Input: Pause button pressed

Output: Paused state

How test will be performed: When the spacebar is registered as depressed, the game shall enter the paused state. Upon registering the spacebar again, the game shall return to the playing state.

\item{2. Displaying player information above all\\}

Type: Structural static manual test

Initial State: None

Input: None

Output: None

How test will be performed: For the player information to be displayed above all other sprites, those sprites need to be drawn last. Inspecting the code will ensure that the player, score and lives are drawn above all other sprites.

\item{3. Player firing and alien destruction\\}

Type: Functional dynamic automatic test

Initial State: Playing State

Input: Player object, alien object, and fire button pressed

Output: Bullet generation, bullet movement, alien destruction

How test will be performed: By placing the player and alien opposite of each other, the spacebar should generate a bullet that originates from the tip of the player ship. This bullet should then proceed forward and impact the alien. The bullet speed is derrived from the player ship speed plus a constant. The alien death should trigger, which can set a detectable flag. The bullet must only move in one direction.

\item{4. Asteroid collision with player\\}

Type: Functional dynamic automatic test

Initial State: Playing State

Input: Player object and asteroid object

Output: Player loss of life, player location reset, asteroid destruction, asteroid separation, Post-game state (if number of lives == 0)

How test will be performed: Set up the game to have a player facing a single asteroid moving towards the player. When the asteroid collides with the player, both the player and asteroid trigger their death functions, setting flags to register their deaths. On player death, the lives count is decresed which can be compared to the initial value. The asteroid child array will also increase which can once again be compared to the initial value.

\item{5. Asteroid separation\\}

Type: Functional dynamic automatic test

Initial State: Playing State

Input: Asteroid object

Output: Production of child asteroids

How test will be performed: Starting with a large asteroid, a signal is sent to the asteroid to trigger its death response. The asteroid itself should become disabled and should spawn 3 children asteroids. By transmitting another signal, those children asteroids should disable themselves and then create 3 of their own children. One last signal is used to destroy those children. They should not produce any children. The original large asteroid object should detect that all of its children are dead and those children's children are dead. The asteroid should broadcast that it has been completely destroyed.

\item{6. Witholding player spawn\\}

Type: Functional dynamic automatic test

Initial State: Pre-game state

Input: Spacebar pressed

Output: Delayed player spawning

How test will be performed: When the player changes from the pre-game state to the playing state, the player shall not spawn if an asteroid is within 100 pixels. If there is, the game shall wait for the asteroid to pass and then spawn the player

\end{enumerate}

\paragraph{Post-game State Tests}
\begin{enumerate}

\item{1. Post-game \\}

Type: Functional dynamic manual test

Initial State: Post-game State

Input: The restart game button "R" is pressed

Output: Pre-game State

How test will be performed: Set up the game in the post-game state and then press the "R" key and check if the new state after the key has been pressed is the pre-game state. It will also be tested that if any other keys are pressed no changes to the game state or game will be performed.
\end{enumerate}


\subsection{Tests for Nonfunctional Requirements}

\subsubsection{Usability and Style}

\paragraph{Player Test}

\begin{enumerate}

\item{1. Player test\\}
%All look and feel requirements
%readable text
%good performance
%strain on hand

Type: Functional dynamic manual test

Initial State: pre-game state

Input/Condition: An outside person

Output/Result: The outsider playing through Staroids a few times

How test will be performed: A friend or colleague will open Staroids with only the knowledge of what they can do in the game. After a few plays, the person is informed about all the functions of Staroids and how to perform them. The person then proceeds to play a few more rounds. After they are finished playing, they will be asked some \hyperref[interview:questions]{questions} with regards to the game's usability and playability.

\item{2. Browsers\\}

Type: Functional dynamic manual test

Initial State: Closed

Input/Condition: A developer and all major web browsers

Output/Result: An operational Staroids instance

How test will be performed: Staroids is to run on any major browser, so a developer will open staroids using all major browsers and play through a few games to ensure that the game is functioning as expected. There should be no functional differences between the browsers, but performance is allowed to vary. The developer may judge whether a possible performance decrease is unacceptable.

\end{enumerate}

\paragraph{Informational Tests}

\begin{enumerate}

\item{1. Player information\\}

Type: Dynamic dynamic manual test

Initial State: pre-game state

Input/Condition: A person to advance the game states

Output/Result: Ensurance that any relevant game prompts are shown to the user

How test will be performed: A member of the Staroids team will start Staroids and advance through the game states manually to ensure that all states have on screen prompts to inform the user about their input options. In the pre-game state, the ship controls, pause button and start button must all be shown to the user on screen. The playing state does not need to show anything. The post-game state must show the restart button and lastly the pause state must show the unpause button.

\end{enumerate}

\subsubsection{Internal Requirements}

\paragraph{Documentation}

\begin{enumerate}

\item{1. JSDoc Documentation Inspection\\}

Type: Structural static manual test

Initial State: Closed game

Input/Condition: Staroids source code and an inspector

Output/Result: Verification of proper JSDoc documentation

How test will be performed: To ensure all functions and classes are properly commented in accordance to JSDoc, a developer of Staroids will need to inspect the Staroids source code to ensure that all functions are documented and documented correctly. The developer will also ensure that all the modules contain only elements that are related to the game's operation.

\item{2. JSDoc Documentation Compilation\\}

Type: Structural static automatic test

Initial State: Closed game

Input/Condition: JSDoc executable and the Staroids modules

Output/Result: Properly created JSDoc documentation

How test will be performed: In addition to an inspector looking over the JSDoc comments, the executable should also compile proper documentation based on the JSDoc commenting within the source code.

\item{3. Complicated Function Documentation Inspection\\}

Type: Structural static manual test

Initial State: Closed game

Input/Condition: Staroids source code and an inspector

Output/Result: Verification of commented code

How test will be performed: Similar to the JSDoc commenting inspection, all complicated pieces of code must be commented to help a reader understand what a particular piece of code is doing. An external programmer can also be brought in to ensure that the code sufficiently commented to allow an outside user to understand what is occuring.

\end{enumerate}

\subsection{Traceability Between Test Cases and Requirements}

\section{Tests for Proof of Concept}

\subsection{Portability}

\paragraph{Browser test}

\begin{enumerate}

\item{test-id1\\}

Type: Functional, Manual, Dynamic

Initial State: None (Game closed)

Input: Open game with browser

Output: Game runs in pregame state on browser

How test will be performed: The test will be performed by opening the game with the specified browsers (Edge, Firefox, Safari, Chrome) and looking to see if the pregame screen shows up.

\item{test-id2\\}

Type: Functional, Dynamic, Manual, Static etc.

Initial State:

Input:

Output:

How test will be performed:

\end{enumerate}

\subsection{Area of Testing2}

...


\section{Comparison to Existing Implementation}

\section{Unit Testing Plan}
%FROM RUBRIC - what type of tests? need for stubs or drivers? coverage metrics?

\subsection{Unit testing of internal functions}

\subsection{Unit testing of output files}

\bibliographystyle{plainnat}

\bibliography{SRS}

\newpage

\section{Appendix}

This is where you can place additional information.

\subsection{Symbolic Parameters}

The definition of the test cases will call for SYMBOLIC\_CONSTANTS.
Their values are defined in this section for easy maintenance.
\textbf{Constants}\\
FPS = 30; The curent frames per second\\
SHIP\_SIZE = 30; The ship size in pixels\\
TURN\_SPEED = 180; Player turn speed in degrees per second\\
SHIP\_THRUST = .2; Player thrust power in pixels per second squared \\
SHIP\_BRAKE = 0.98; player airbrake power (<0.9 = full stop 1 = no brake) \\
MIN\_SPEED = 0.1; minimum speed \\
MAX\_ACC = 2; maximum ship acceleration \\
MAX\_SPEED = 20; Maximum ship speed (velocity) \\
CVS\_WIDTH = 500; canvas width \\
CVS\_HEIGHT = 400; canvas height \\
BULLET\_EXTRA = 5; Extra velocity on bullet on top of ship's velocity \\
KILLABLE = true; Testing invulnerability \\
MAX\_ASTEROIDS = 2; Maximum amount of asteroids \\
TEST=false; experimental features \\


\subsection{Usability Survey Questions}
\label{interview:questions}

\begin{enumerate}

  \item Do the controls feel comfortable? Do they place the hand in an awkward position?
  \item Do the controls make sense?
  \item Do the buttons used make sense given their function? Are they relatively consistant with other programs of similar nature you have used?
  \item Is the game too difficult or easy? If so, how could this be corrected?
  \item Is the Staroids art style appealing? Would colour improve the experience?
  \item Is the text in the game readable?
  \item Did the game run smoothly? Was there any screen tearing or stuttering?
  \item Were there any symbols or graphics that you recognize?

\end{enumerate}

\end{document}
