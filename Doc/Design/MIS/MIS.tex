\documentclass[12pt]{article}

%============================
%============================
% This document was created by all members of the Staroids team equally
%============================
%============================

\usepackage{graphicx}
\usepackage{paralist}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{hhline}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{tabularx}


\oddsidemargin 0mm
\evensidemargin 0mm
\textwidth 160mm
\textheight 200mm
\renewcommand\baselinestretch{1.0}

\pagestyle {plain}
\pagenumbering{arabic}

\newcounter{stepnum}

%% Comments

\usepackage{color}

\newcommand{\wss}[1]{\authornote{blue}{SS}{#1}}
\newcommand{\means}{\Rightarrow}
\newcommand{\s}{\mbox{ }}
\newcommand{\m}[1]{\mbox{#1}}

\title{Staroids, Module Interface Specification}
\author{Team 20, Staroids
  \\ Moziah San Vicente, 400091284, sanvicem
  \\ Eoin Lynagh, 400067675, lynaghe
  \\ Jason Nagy, 400055130, nagyj2
}

\begin{document}

\maketitle

\begin{table}[bp]
\caption{\bf Revision History}
\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Nov 06/18 & 0.1 & Added basic information to template\\
Nov 07/18 & 0.2 & Added Head module specification\\
Nov 08/18 & 0.3 & Added all module specifications\\
Nov 09/18 & 0.35 & Tidied up\\
Nov 09/18 & 0.5 & Finished Sound, Utilites, Head and Game State MIS\\
\bottomrule
\end{tabularx}
\end{table}

The following is a series of MISes for the modules that comprise the Staroids game

%==================================================
\newpage

\section*{Utilities Module}

\subsection*{Template Module}

Utilities

\subsection*{Uses}

CVS from Browser (Playing screen)\\
CTX from CVS (Screen coordinate system)\\
FONTSTYLE from Browser (Available fonts for printing)\\


\subsection*{Syntax}

\subsubsection*{Exported Types}

FPS=30\\
SHIP\_SIZE=30\\
TURN\_SPEED=180\\
SHIP\_THRUST=0.2\\
SHIP\_BREAK=0.98\\
MIN\_SPEED=0.1\\
MAX\_SPEED=20\\
MAX\_ACC=2\\
CVS\_WIDTH=780\\
CVS\_HEIGHT=620\\
BULLET\_EXTRA=5\\
KILLABLE=\{True,False\}\\
MAX\_ASTEROIDS=2\\
TEST=\{True,False\}\\
ALIEN\_SPAWN=700\\
KeyCode=\{UP,DOWN,RIGHT,LEFT,SPACE,M,P,R\}\\
EPOCH=1\\
Key=?\\
Text=?\\
Game=?\\

\subsubsection*{Exported Access Programs}

\begin{tabular}{| l | l | l | l |} %Key object
\hline
\textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
\hline
Key &  & Key & ~\\
\hline
isDown & KeyCode & $\mathbb{N}$ & ~\\
\hline
onKeydown & KeyCode & $\mathbb{N}$ & ~\\
\hline
onKeyup & KeyCode &  & ~\\
\hline
\end{tabular}

\subsection*{Semantics}

\subsubsection*{State Variables}

$d$: sequence of $\mathbb{N}$\\

\subsubsection*{State Invariant}

$\forall (c : \mathbb{N} | c \in d : c > 0)$

\subsubsection*{Assumptions}

\begin{itemize}
    \item Only known keys (as defined by KeyCode) will be put into the Key object as events to be processed.
\end{itemize}

\subsubsection*{Access Routine Semantics}

Key():
\begin{itemize}
    \item transition: $d :=$ seq of KeyCode
    \item output: $out := Key$
    \item exception: None
\end{itemize}

\noindent isDown(e):
\begin{itemize}
    \item output: $e \in d \Rightarrow true \land e \notin d \Rightarrow false$
    \item exception: None
\end{itemize}

\noindent onKeydown(e):
\begin{itemize}
    \item transition: $d[e] = \mbox{EPOCH}$
    \item exception: None
\end{itemize}

\noindent onKeyup(e):
\begin{itemize}
    \item output: $out := d[e]$
    \item exception: None
\end{itemize}


\newpage %Text Object

\subsubsection*{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
\hline
\textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
\hline
TEXT & CTX, FONTSTYLE & TEXT & ~\\
\hline
norm & $String, \mathbb{Z}, \mathbb{Z}$ &  & ~\\
\hline
emph & $String, \mathbb{Z}, \mathbb{Z}$ &  & ~\\
\hline
\end{tabular}

\subsection*{Semantics}

\subsubsection*{State Variables}

$cvs$: CTX %ASK
$fnt$: FONTSTYLE %ASK

\subsubsection*{State Invariant}

None

\subsubsection*{Assumptions}

\begin{itemize}
  \item Before the Text object is used, the initialization function must be run first.
\end{itemize}

\subsubsection*{Access Routine Semantics}

norm($Str,x,y$):
\begin{itemize}
    \item transition: Displays $Str$ to $cvs$ at location $(x,y)$ in standard font.
    \item exception: None
\end{itemize}

emph($Str,x,y$):
\begin{itemize}
    \item transition: Displays $Str$ to $cvs$ at location $(x,y)$ in emphasized font.
    \item exception: None
\end{itemize}

\newpage %Game

\begin{tabular}{| l | l | l | l |}
\hline
\textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
\hline
Game &  & ~\\
\hline
reduceCounter & $String, \mathbb{Z}, \mathbb{Z}$ &  & ~\\
\hline
resetMute &  &  & ~\\
\hline
resetPause &  &  & ~\\
\hline
drawLives &  &  & ~\\
\hline
addScore & $\mathbb{Z}$ &  & ~\\
\hline
addSprites & OBJECT &  & ~\\
\hline
subLives & $\mathbb{Z}$ &  & ~\\
\hline
subSprites & OBJECT &  & ~\\
\hline
getScore &  & $\mathbb{N}$  & ~\\
\hline
getLives &  & $\mathbb{N}$  & ~\\
\hline
getLevel &  & $\mathbb{N}$  & ~\\
\hline
getAsteroids &  & $\mathbb{N}$  & ~\\
\hline
getWidth &  & $\mathbb{N}$  & ~\\
\hline
getHeight &  & $\mathbb{N}$  & ~\\
\hline
getCvs &  & CVS  & ~\\
\hline
getCtx &  & CTX  & ~\\
\hline
getSprites &  & sequence of OBJECT  & ~\\
\hline
getPlayer &  & PLAYER  & ~\\
\hline
getAlien &  & ALIEN  & ~\\
\hline
getText &  & TEXT  & ~\\
\hline
getSound &  & SOUND  & ~\\
\hline
getPaused &  & $\mathbb{B}$  & ~\\
\hline
setScore & $\mathbb{N}$ &  & ~\\
\hline
setLives & $\mathbb{N}$ &  & ~\\
\hline
setLevel & $\mathbb{N}$ &  & ~\\
\hline
setAsteroids & $\mathbb{N}$ &  & ~\\
\hline
setWidth & $\mathbb{N}$ &  & ~\\
\hline
setHeight & $\mathbb{N}$ &  & ~\\
\hline
setCvs & CVS &  & ~\\
\hline
setCtx & CTX &  & ~\\
\hline
setSprites & sequence of OBJECT &  & ~\\
\hline
setPlayer & PLAYER &  & ~\\
\hline
setAlien & ALIEN &  & ~\\
\hline
setText & TEXT &  & ~\\
\hline
setSound & SOUND &  & ~\\
\hline
setPaused & $\mathbb{B}$ &  & ~\\
\hline
\end{tabular}

\subsection*{Semantics}

\subsubsection*{State Variables}

$score$: $\mathbb{N}$\\
$lives$: $\mathbb{N}$\\
$level$: $\mathbb{N}$\\
$asteroids$: $\mathbb{N}$\\
$width$: $\mathbb{N}$\\
$height$: $\mathbb{N}$\\
$cvs$: CVS\\
$ctx$: CTX\\
$sprites$: sequence of OBJECT\\
$player$: PLAYER\\
$alien$: ALIEN\\
$text$: TEXT\\
$sound$: SOUND\\
$paused$: $\mathbb{B}$\\
$muteSound$: $\mathbb{N}$\\
$pauseGame$: $\mathbb{N}$\\

\subsubsection*{State Invariant}

None

\subsubsection*{Assumptions}

%\begin{itemize}
%
%\end{itemize}

None

\subsubsection*{Access Routine Semantics}

Game():
\begin{itemize}
    \item transition: $score = 0 \land lives = 3 \land sprites = seq. of \mbox{OBJECT} \land muteSound = FPS \land pauseGame = FPS$
    \item exception: None
\end{itemize}

getScore():
\begin{itemize}
    \item output: $out := score$
    \item exception: None
\end{itemize}

getLives():
\begin{itemize}
    \item output: $out := lives$
    \item exception: None
\end{itemize}

getLevel():
\begin{itemize}
    \item output: $out := level$
    \item exception: None
\end{itemize}

getAsteroids():
\begin{itemize}
    \item output: $out := asteroids$
    \item exception: None
\end{itemize}

getWidth():
\begin{itemize}
    \item output: $out := width$
    \item exception: None
\end{itemize}

getHeight():
\begin{itemize}
    \item output: $out := height$
    \item exception: None
\end{itemize}

getCvs():
\begin{itemize}
    \item output: $out := cvs$
    \item exception: None
\end{itemize}

getCtx():
\begin{itemize}
    \item output: $out := ctx$
    \item exception: None
\end{itemize}

getSprites():
\begin{itemize}
    \item output: $out := sprites$
    \item exception: None
\end{itemize}

getPlayer():
\begin{itemize}
    \item output: $out := player$
    \item exception: None
\end{itemize}

getAlien():
\begin{itemize}
    \item output: $out := alien$
    \item exception: None
\end{itemize}

getText():
\begin{itemize}
    \item output: $out := text$
    \item exception: None
\end{itemize}

getSound():
\begin{itemize}
    \item output: $out := sound$
    \item exception: None
\end{itemize}

getPaused():
\begin{itemize}
    \item output: $out := paused$
    \item exception: None
\end{itemize}

setScore(s):
\begin{itemize}
    \item transition: $score = s$
    \item exception: None
\end{itemize}

setLives(l):
\begin{itemize}
    \item transition: $lives = l$
    \item exception: None
\end{itemize}

setLevel(l):
\begin{itemize}
    \item transition: $level = l$
    \item exception: None
\end{itemize}

setAsteroids(a):
\begin{itemize}
    \item transition: $asteroids = a$
    \item exception: None
\end{itemize}

setWidth(w):
\begin{itemize}
    \item transition: $width = w$
    \item exception: None
\end{itemize}

getHeight(h):
\begin{itemize}
    \item transition: $height = h$
    \item exception: None
\end{itemize}

setCvs(c):
\begin{itemize}
    \item transition: $cvs = c$
    \item exception: None
\end{itemize}

setCtx(c):
\begin{itemize}
    \item transition: $cyx = c$
    \item exception: None
\end{itemize}

setSprites(s):
\begin{itemize}
    \item transition: $sprites = s$
    \item exception: None
\end{itemize}

setPlayer(p):
\begin{itemize}
    \item transition: $player = p$
    \item exception: None
\end{itemize}

setAlien():
\begin{itemize}
    \item transition: $alien = a$
    \item exception: None
\end{itemize}

setText(t):
\begin{itemize}
    \item transition: $text = t$
    \item exception: None
\end{itemize}

setSound(s):
\begin{itemize}
    \item transition: $sound = s$
    \item exception: None
\end{itemize}

setPaused(b):
\begin{itemize}
    \item transition: $paused = b$
    \item exception: None
\end{itemize}

reduceCounter():
\begin{itemize}
    \item transition: $ muteSound := muteSound - 1 \land pauseGame := pauseGame - 1 $
    \item exception: None
\end{itemize}

resetMute():
\begin{itemize}
    \item transition: $ muteSound = FPS $
    \item exception: None
\end{itemize}

resetPause():
\begin{itemize}
    \item transition: $ pauseGame = FPS $
    \item exception: None
\end{itemize}

drawLives():
\begin{itemize}
    \item transition: $ \forall (i:\mathbb{N} | i < lives : drawTriangle(i*15)) $
    \item exception: None
\end{itemize}

addScore(amount):
\begin{itemize}
    \item transition: $ score + amount $
    \item exception: None
\end{itemize}

addSprite(obj):
\begin{itemize}
    \item transition: $ sprites = sprites || obj $
    \item exception: None
\end{itemize}

subLives(obj):
\begin{itemize}
    \item transition: $ lives - 1 $
    \item exception: None
\end{itemize}

subSprite(obj):
\begin{itemize}
    \item transition: $ sprites = sprites \setminus obj $
    \item exception: None
\end{itemize}

%==================================================
\newpage

\section*{Sound Module}

\subsection*{Uses}

AUDIO for Sound\\

\subsection*{Syntax}

\subsubsection*{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
    \hline
    \textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
    \hline
    Sound & ~ & Sound & ~\\
    \hline
    play & Sound & ~ & ~\\
    \hline
    isPlay & Sound & Boolean & ~\\
    \hline
    pause & Sound & ~ & ~\\
    \hline
    unpause & Sound & ~ & ~\\
    \hline
    stop & Sound & ~ & ~\\
    \hline
    mute & ~ & ~ & ~\\
    \hline
    unmute & ~ & ~ & ~\\
    \hline
    toggle & ~ & ~ & ~\\
    \hline
\end{tabular}

\subsection* {Semantics}

\subsubsection* {State Variables}

%maybe the sounds
Sound: Audio object from file

\subsubsection* {State Invariant}

None
%ask about state invariant of sounnd

\subsubsection* {Assumptions}

\begin{itemize}
    \item The constructor is called before other accesses
    \item The sound files are in the correct directory for the projectiles
    \item the sound files have the same name as expected.
\end{itemize}

\subsubsection* {Access Routine Semantics}

Sound():
\begin{itemize}
  \item transition: $muted := true$
  \item exception: None
  %ask about the Audio objects
\end{itemize}

\noindent play():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item transition: $!in.muted: in.play()$
  \item exception: None
\end{itemize}

\noindent isPlay():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item output: $out := !in.paused()$
  \item exception: None
\end{itemize}

\noindent pause():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item transition: $in.paused := true$
  \item exception: None
\end{itemize}

\noindent unpause():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item transition: $in.paused := !true$
  \item exception: None
\end{itemize}

\noindent stop():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item transition: $in.paused := true \land this.currentTime := 0$
  \item exception: None
\end{itemize}

\noindent mute():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item transition: $in.muted := true$
  \item exception: None
\end{itemize}

\noindent unmute():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item transition: $in.muted := !true$
  \item exception: None
\end{itemize}

\noindent toggle():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item transition: $in.muted := !in.muted$
  \item exception: None
\end{itemize}

%===================================================
\newpage

\section*{Head Module}

\subsection*{Uses}

utilities.js, sound.js, gameobject.js, gamestate.js\\

\subsubsection*{Exported Constants}

None

\subsubsection*{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
    \hline
    \textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
    \hline
    dynamicallyLoadScript & any & ~ & ~\\
    \hline

\end{tabular}

\subsection* {Semantics}

\subsubsection* {State Variables}

None

\subsubsection* {State Invariant}

None

\subsubsection* {Assumptions}

\begin{itemize}
    \item The files are named the same way that the module expects
\end{itemize}

\subsubsection* {Access Routine Semantics}

dynamicallyLoadScript():
\begin{itemize}
    \item input: $in := x \in \{"utilities.js","sound.js","gameobject.js","gamestate.js"\}$
    \item transition: $c := \{\}$
    \item output: $out := Head$
    \item exception: None
\end{itemize}


%===================================================
\newpage

\section*{GameObject Module}

\subsection*{Template Module}

GameObject

\subsection*{Uses}

for all draw function in GameObject, the object is just being drawn to the html canvas reffered to as CVS, using a '2d' context reffered to as CTX.

\subsection*{Syntax}

\subsubsection*{Exported Types}

GameObject=?
Player=?
Bullet=?
Alien=?
AlienBullet=?
Asteroid=?

\subsubsection*{Exported Constants}

None

\subsubsection*{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
    \hline
    \textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
    \hline
    GameObject & ~ & GameObject & ~\\
    \hline
    getX & ~ & $\mathbb{Z}$ & ~\\
    \hline
    getY & ~ & $\mathbb{Z}$ & ~\\
    \hline
    getHeading & ~ & $\mathbb{R}$ & ~\\
    \hline
    getActivity & ~ & $\mathbb{B}$ & ~\\
    \hline
    getRadius & ~ & $\mathbb{Z}$ & ~\\
    \hline
    getVel & ~ & $\mathbb{R}$ & ~\\
    \hline
    getCtx & ~ & CTX & ~\\
    \hline
    getName & ~ & String & ~\\
    \hline
    setX & $\mathbb{Z}$ & ~ & ~\\
    \hline
    setY & $\mathbb{Z}$ & ~ & ~\\
    \hline
    setActivity & $\mathbb{B}$ & ~ & ~\\
    \hline
\end{tabular}

\subsection* {Semantics}

\subsubsection* {State Variables}

$name$: String\\
$x$: $\mathbb{R}$\\
$y$: $\mathbb{R}$\\
$rot$: $\mathbb{R}$\\
$a$: $\mathbb{R}$\\
$r$: $\mathbb{N}$\\
$visible$: $\mathbb{B}$\\
$vel$: sequence of $\mathbb{R}$\\
$acc$: sequence of $\mathbb{R}$\\
$ctx$: CTX\\

\subsubsection* {State Invariant}

None

\subsubsection* {Assumptions}

GameObject(name):
\begin{itemize}
    \item transition: $name, x, y, rot, a, visible, vel, acc, r, ctx = \mbox{name}, 0, 0, 0, 0, false, (0,0), (0,0), 0, \mbox{CTX}$
    \item output: $out := GameObject$
    \item exception: None
\end{itemize}

getX():
\begin{itemize}
    \item output: $out := x$
    \item exception: None
\end{itemize}

getY():
\begin{itemize}
    \item output: $out := y$
    \item exception: None
\end{itemize}

getHeading():
\begin{itemize}
    \item output: $out := a$
    \item exception: None
\end{itemize}

getActivity():
\begin{itemize}
    \item output: $out := visible$
    \item exception: None
\end{itemize}

getRadius():
\begin{itemize}
    \item output: $out := r$
    \item exception: None
\end{itemize}

getVel():
\begin{itemize}
    \item output: $out := vel$
    \item exception: None
\end{itemize}

getAcc():
\begin{itemize}
    \item output: $out := acc$
    \item exception: None
\end{itemize}

getCtx():
\begin{itemize}
    \item output: $out := ctx$
    \item exception: None
\end{itemize}

getName():
\begin{itemize}
    \item output: $out := name$
    \item exception: None
\end{itemize}

setX(x):
\begin{itemize}
    \item input: $in := x \in \mathbb{Z}$
    \item exception: None
\end{itemize}

setY(y):
\begin{itemize}
    \item input: $in := x \in \mathbb{Z}$
    \item exception: None
\end{itemize}

setActivity(activity):
\begin{itemize}
    \item input: $in := x \in \mathbb{B}$
    \item exception: None
\end{itemize}


\begin{tabular}{| l | l | l | l |}
    \hline
    \textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
    \hline
    Player & ~ & Player & ~\\
    \hline
    fire & ~ & Bullet & ~\\
    \hline
    thrust & ~ & ~ & ~\\
    \hline
    turn & ~ & ~ & ~\\
    \hline
    brake & ~ & ~ & ~\\
    \hline
    interact & KeyCode & ~ & ~\\
    \hline
    brake & ~ & ~ & ~\\
    \hline
    brake & ~ & ~ & ~\\
    \hline
    brake & ~ & ~ & ~\\
    \hline
\end{tabular}

\subsection* {Semantics}

\subsubsection* {State Variables}

None

\subsubsection* {State Invariant}

None

\subsubsection* {Assumptions}

Player():
\begin{itemize}
    \item transition: $ fire, thrust, turn, airbrake, bulletCountDown vel, acc, r = false, false, false, \mbox{FPS}/2, (0,0), (0,0), \mbox{SHIP\_SIZE/2}$
    \item output: $out := Player$
    \item exception: None
\end{itemize}

\noindent fire():
\begin{itemize}
  \item input: $in := spascebar \in \mbox{Sound}$
  \item transition: $in.paused := true \land this.currentTime := 0$
  \item exception: None
\end{itemize}

\noindent thrust():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item transition: $in.paused := true \land this.currentTime := 0$
  \item exception: None
\end{itemize}

\noindent turn():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item transition: $in.paused := true \land this.currentTime := 0$
  \item exception: None
\end{itemize}

\noindent brake():
\begin{itemize}
  \item input: $in := x \in \mbox{Sound}$
  \item transition: $up, spa := true \land this.currentTime := 0$
  \item exception: None
\end{itemize}

\noindent interact():
\begin{itemize}
  \item input: $in := up \lor space \lor left \lor right \lor down \in \mbox{KeyCode}$
  \item transition: $up, space, left, right, down := thrust = true, fire = true, turn = left, turn = right, airbrake = true$
  \item exception: None
\end{itemize}



\begin{tabular}{| l | l | l | l |}
    \hline
    \textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
    \hline
    Bullet & Player & Bullet & ~\\
    \hline
\end{tabular}

\subsection* {Semantics}

\subsubsection* {State Variables}

None

\subsubsection* {State Invariant}

None

\subsubsection* {Assumptions}

Bullet(p):
\begin{itemize}
    \item transition: $ timeOut, vel, x, y, r, velx, vely = 200, {}, getX(p) + 4/3 * getR(p) * cos(getHeading(p)), getY(p) - 4/3 * getR(p) * sin(getHeading(p)), 1, getVelX(p) + \mbox{BULLET\_EXTRA} * cos(getHeading(p)), getVelY(p) + \mbox{BULLET\_EXTRA} * -sin(getHeading(p)) $
    \item output: $out := Bullet$
    \item exception: None
\end{itemize}


\begin{tabular}{| l | l | l | l |}
    \hline
    \textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
    \hline
    Alien & ~ & Alien & ~\\
    \hline
\end{tabular}

\subsection* {Semantics}

\subsubsection* {State Variables}

None

\subsubsection* {State Invariant}

None

\subsubsection* {Assumptions}

Alien():
\begin{itemize}
    \item transition: $ timeSpawn, timeOut, xOrY, lOrR, acc, r = \mbox{ALIEN\_SPAWN}, 50, true, true, (0,0), 12.5 $
    \item output: $out := Alien$
    \item exception: None
\end{itemize}

\begin{tabular}{| l | l | l | l |}
    \hline
    \textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
    \hline
    AlienBullet & ~ & AlienBullet & ~\\
    \hline
\end{tabular}

\subsection* {Semantics}

\subsubsection* {State Variables}

None

\subsubsection* {State Invariant}

None

\subsubsection* {Assumptions}

AlienBullet(a):
\begin{itemize}
    \item transition: $ timeOut, vel, x, y, r, velx, vely = 200, {}, getX(a), getY(a), 2, getVelX(a) + \mbox{BULLET\_EXTRA} * cos(getHeading(a)), getVelY(a) + \mbox{BULLET\_EXTRA} * -sin(getHeading(a)) $
    \item output: $out := AlienBullet$
    \item exception: None
\end{itemize}

\begin{tabular}{| l | l | l | l |}
    \hline
    \textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
    \hline
    Asteroid & ~ & Asteroid & ~\\
    \hline
\end{tabular}

\subsection* {Semantics}

\subsubsection* {State Variables}

None

\subsubsection* {State Invariant}

None

\subsubsection* {Assumptions}

Asteroid():
\begin{itemize}
    \item transition: $ x, y, scale, r, children, vel, velx, vely = 0, 0, scale, 5*scale, [], {}, \pm random(0,1)*3, \pm random(0,1)*3$
    \item output: $out := Asteroid$
    \item exception: None
\end{itemize}

%===================================================

\newpage

\section*{Game State Module}

\subsection*{Uses}

utilities.js, gameobject.js, head.js\\

\subsubsection*{Exported Constants}

STATE=\{START,PREGAME,LOAD,PLAYING,POSTGAME,PAUSE,RELOAD\}\\
StateMachine=?\\

\subsubsection*{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
    \hline
    \textbf{Routine name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}\\
    \hline
    StateMachine &  & ~ & ~\\
    \hline
    isSafe & OBJECT, seq. of OBJECT & ~ & ~\\
    \hline
    generateAsteroids & $x \in \mathbb{Z}$ & ~ & ~ \\
    \hline
    checkCollision & GameObject, GameObject, GameObject & ~ & ~ \\
    \hline
    togglePause & ~ & ~ & ~ \\
    \hline
\end{tabular}

\subsection* {Semantics}

\subsubsection* {State Variables}

$state$: String
$stateSave$: String
$paused$: $\mathbb{B}$

\subsubsection* {State Invariant}

$state \neq stateSave$

\subsubsection* {Assumptions}

None

%\begin{itemize}
%\end{itemize}

\subsubsection* {Access Routine Semantics}

StateMachine():
\begin{itemize}
    \item transition: $state = \mbox{start}$
    \item output: $out := StateMachine$
    \item exception: None
\end{itemize}

isSafe(obj,sprites){
\begin{itemize}
  \item input: $in := object, in := sprites$
  \item return: $d := \forall s \in sprites: (getName(s) = "asteroid" \land getActivity(s) = false \land \exists c \in getChildren(s): \lnot isSafe(c): false) \lor (getName(s) = "asteroid" \land getActivity(s) = true: checkCollision(obj, s, 50): false) \lor (getName(s) \in \{"alien, "alienBullet"\} \land getActivity(s) = true \land checkCollision(obj,s,50): false)$
\end{itemize}
}

checkCollision(a,b,c)
\begin{itemize}
  \item input: $a \in \mbox{GameObject}, b \in \mbox{GameObject}, c \in \mathbb{Z}$
  \item output: $out := (pyth(|a.getX() - b.getX()|, |a.getX() - b.getX()|) < c)$
\end{itemize}

togglePause():
\begin{itemize}
    \item transition: $ pause \Rightarrow (stateSave = state \land state = \mbox{PAUSE}) \lor \lnot pause \Rightarrow (state = stateSave) $
    \item exception: None
\end{itemize}

\subsection*{Local Functions}

\noindent screenShow: $String\times\{\mbox{NORMAL},\mbox{EMPHASIS}\Rightarrow?\}$
\noindent output: $out := $

\noindent drawShape: $String\times\mathbb{R}\times\mathbb{R}\Rightarrow$
\noindent
\noindent drawTriangle: $ \mathbb{N} \Rightarrow $
\noindent output: $out := $

\noindent getName: $ \mbox{OBJECT} \Rightarrow $
\noindent output: $out := $

\noindent getActivity: $ \mbox{OBJECT} \Rightarrow $
\noindent output: $out := $

\noindent getChildren: $ \mbox{OBJECT} \Rightarrow $
\noindent output: $out := $




%QUESTIONS GO HERE

% How to deal with: Drawing to screen, printing
% Can a 'refer to JSDoc Documentation' be used for simple getters and setters

\end{document}
